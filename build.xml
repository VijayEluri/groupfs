<project name="queryfs" default="compile" basedir=".">

	<description>
		QueryFS - narrow down large file collections by directory paths.
	</description>

	<target name="compile">
		<javac srcdir="queryfs" destdir="." debug="true" target="5">
			<compilerarg value="-Xlint"/>
		</javac>
	</target>

	<target name="jar" depends="compile">
		<jar jarfile="queryfs.jar" update="true">
			<fileset dir=".">
				<include name="queryfs/**/*.class"/>
			</fileset>
		</jar>
	</target>

	<target name="clean">
		<delete>
			<fileset dir="." defaultexcludes="false">
				<include name="**/*.class"/>
				<include name="**/#*#"/>
				<include name="**/*.jar"/>
				<include name="**/*~"/>
				<include name="**/*.log"/>
				<include name="test_helper"/>
			</fileset>
		</delete>
		<delete dir="doc"/>
		<delete dir="test.mount"/>
		<delete dir="test.origin"/>
		<delete dir="test.scratch"/>
	</target>

	<target name="doc" depends="compile">
		<javadoc
			sourcepath="."
			packagenames="queryfs.*"
			destdir="doc"/>
	</target>

	<target name="all" depends="clean,compile,jar,doc"/>
</project>
